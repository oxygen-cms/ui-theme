{"version":3,"sources":["Ajax.js","Dialog.js","Dropdown.js","EditableList.js","Form.js","MainNav.js","Notification.js","Preferences.js","Slider.js","SmoothState.js","TabSwitcher.js","Toggle.js","Upload.js","app.js","ImageEditor/ImageEditor.js","Editor/CodeViewInterface.js","Editor/DesignViewInterface.js","Editor/Editor.js","Editor/PreviewInterface.js","Editor/SplitViewInterface.js","pages/login.js"],"names":[],"mappings":"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","file":"app.min.js","sourcesContent":["// ================================\n//            AjaxRequest\n// ================================\n\nclass Ajax {\n\n    static request(type, url, data, dataType = \"json\") {\n        var promise = new Promise(function(resolve, reject) {\n            $.ajax({\n                dataType: dataType,\n                type: type,\n                url: url,\n                data: data,\n                processData: false,\n                contentType: false,\n                success: data => resolve(data),\n                error: (response, textStatus, errorThrown) => reject({ response: response, textStatus: textStatus, errorThrown: errorThrown })\n            })\n        });\n        for (let handler of Ajax.successCallbacks) {\n            promise = promise.then(handler);\n        }\n        for (let handler of Ajax.errorCallbacks) {\n            promise = promise.catch(handler);\n        }\n        return promise;\n    }\n\n}\n\nAjax.successCallbacks = [];\nAjax.errorCallbacks = [];\n\nAjax.displayNotification = function(data) {\n    console.log(data);\n    new Notification(data);\n    return data;\n};\n\nAjax.handleRedirect = function(data) {\n    if(data.redirect) {\n        if (window.smoothState && !(data.hardRedirect === true)) {\n            window.smoothState.load(data.redirect, false);\n        } else {\n            window.location.replace(data.redirect);\n        }\n    }\n    return data;\n};\n\nAjax.handleError = function(error) {\n    console.log(error);\n    // handle network errors\n    if(error.response.readyState === 0) {\n        console.error(response);\n        new Notification({\n            content: \"Cannot connect to the server\",\n            status: \"info\"\n        });\n    }\n\n    // try to build a flash message from the error response\n    try {\n        var content = $.parseJSON(error.response.responseText);\n\n        if(content.content) {\n            new Notification(content);\n        } else {\n            console.error(content);\n\n            new Notification({\n                content:\n                \"Exception of type <code class=\\\"no-wrap\\\">\" + content.error.type +\n                \"</code> with message <code class=\\\"no-wrap\\\">\" + content.error.message +\n                \"</code> thrown at <code class=\\\"no-wrap\\\">\" + content.error.file + \":\" + content.error.line +\n                \"</code>\",\n                status: \"failed\"\n            });\n        }\n    } catch (e) {\n        console.error(error.response.responseText);\n\n        new Notification({\n            content: \"Whoops, looks like something went wrong.\",\n            status: \"failed\"\n        });\n    }\n    return error;\n};","// ================================\n//            AjaxRequest\n// ================================\n\nclass Dialog {\n\n    static registerEvents(container) {\n        container.find(\"[data-dialog-type=\\\"confirm\\\"]\").on(\"click\", this.handleConfirmClick);\n        return container.find(\"[data-dialog-type=\\\"alert\\\"]\").on(\"click\", this.handleAlertClick);\n    }\n\n    static handleAlertClick(event) {\n        var target = $(event.currentTarget);\n        return vex.dialog.alert(target.attr(\"data-dialog-message\"));\n    }\n\n    static handleConfirmClick(event, customConfig) {\n        var target = $(event.currentTarget);\n\n        if (!(target.attr(\"data-dialog-disabled\") === \"true\")) {\n            var defaultConfig;\n            event.preventDefault();\n            event.stopPropagation();\n            event.stopImmediatePropagation(),\n\n            defaultConfig = {\n                message: target.attr(\"data-dialog-message\"),\n                callback(value) {\n                    if (value) {\n                        target.attr(\"data-dialog-disabled\", \"true\");\n                        return target[0].click();\n                    }\n                }\n            };\n\n            for (var attribute in customConfig) {\n                defaultConfig[attribute] = customConfig[attribute];\n            }\n\n            return vex.dialog.confirm(defaultConfig);\n        }\n    }\n};\n\n\n","// ================================\n//             Dropdown\n// ================================ \n\nclass Dropdown {\n\n    static registerGlobalEvent() {\n        return $(document).on(\"click\", this.handleGlobalClick.bind(this));\n    }\n\n    static registerEvents(container) {\n        return container.find(\".\" + Dropdown.classes.dropdownToggle).on(\"click\", this.handleClick.bind(this));\n    }\n\n    static handleClick(event) {\n        var container = $(event.target);\n        while (!container.hasClass(Dropdown.classes.dropdownToggle)) {\n            if (container.is(\"a[href], form\")) { return; }\n            container = container.parent();\n        }\n        var dropdown = container.find(\".\" + Dropdown.classes.dropdownList);\n        if (dropdown.hasClass(Dropdown.classes.isActive)) {\n            return dropdown.removeClass(Dropdown.classes.isActive);\n        } else {\n            $(\".\" + Dropdown.classes.dropdownList).removeClass(Dropdown.classes.isActive);\n            return dropdown.addClass(Dropdown.classes.isActive);\n        }\n    }\n\n    static handleGlobalClick(event) {\n        var target = $(event.target);\n        var targetHasClass = target.hasClass(Dropdown.classes.dropdownToggle);\n        var parentHasClass = target.parent().hasClass(Dropdown.classes.dropdownToggle);\n        var ancestorExists = target.parents(\".\" + Dropdown.classes.dropdownToggle).length;\n        if (!targetHasClass && !parentHasClass && !ancestorExists) { return $(\".\" + Dropdown.classes.dropdownList).removeClass(Dropdown.classes.isActive); }\n    }\n};\n\nDropdown.classes = {\n    dropdownToggle: \"Dropdown-container\",\n    dropdownList: \"Dropdown\",\n    isActive: \"is-active\"\n};","// ================================\n//              Form\n// ================================\n\nclass EditableList {\n\n    static registerEvents(container) {\n        container.find(\".\" + EditableList.classes.add).on(\"click\", EditableList.handleAdd);\n        return container.on(\"click\", \".\" + EditableList.classes.remove, EditableList.handleRemove);\n    }\n\n    static handleAdd(event) {\n        var container = $(event.currentTarget).siblings(\".\" + EditableList.classes.container);\n        var template = container.find(\".\" + EditableList.classes.template);\n        template = template.clone().removeClass(EditableList.classes.template);\n        console.log(template);\n        container.append(template);\n        return console.log('add');\n    }\n\n    static handleRemove(event) {\n        var row = $(event.currentTarget).closest(\".\" + EditableList.classes.row);\n        row.remove();\n        return console.log('remove');\n    }\n};\n\nEditableList.classes = {\n    container: \"EditableList\",\n    template: \"EditableList-template\",\n    row: \"EditableList-row\",\n    remove: \"EditableList-remove\",\n    add: \"EditableList-add\"\n};","// ================================\n//              Form\n// ================================\n\n//\n// The Form helper can:\n// - display a message upon exit if there are any unsaved changes.\n// - send an ajax request with the form data on submit or change\n//\n\nclass Form {\n\n    static findAll(container) {\n        container.find(\"form\").each(function() {\n            this.formObject = new Form(this);\n        });\n\n        return container.find(Form.classes.taggableInput).tagging({\n            \"edit-on-delete\": false\n        });\n    }\n\n    static registerKeydownHandler() {\n        return $(document).on(\"keydown\", Form.handleKeydown);\n    }\n\n    static handleKeydown(event) {\n        // check for Command/Control S\n        if ((event.ctrlKey || event.metaKey) && event.which === 83) {\n\n            var forms = document.getElementsByTagName(\"form\");\n            for (let i = 0; i < forms.length; i++) {\n                let form = forms[i];\n                if(form.classList.contains(Form.classes.submitOnKeydown) && form.formObject) {\n                    form.formObject.submit();\n                    event.preventDefault();\n                }\n            }\n        }\n    }\n\n    constructor(element) {\n        this.form = element;\n        this.originalData = $(element).serializeArray();\n        //# content generators are notified before the form content is read\n        this.contentGenerators = [];\n        this.registerEvents();\n    }\n\n    registerEvents() {\n        // Exit Dialog\n        if (this.form.classList.contains(Form.classes.warnBeforeExit)) {\n            $(\"a, button[type=\\\"submit\\\"]\").on(\"click\", event => this.handleExit(event)); // displays exit dialog\n        }\n\n        // Submit via AJAX\n        this.form.addEventListener(\"submit\", event => this.handleSubmit(event));\n        if (this.form.classList.contains(Form.classes.sendAjaxOnChange)) {\n            this.form.addEventListener(\"change\", event => {\n                event.preventDefault();\n                this.submitViaAjax();\n            });\n        }\n\n        // Auto Submit\n        if (this.form.classList.contains(Form.classes.autoSubmit)) {\n            return this.submit();\n        }\n    }\n\n    handleExit(event) {\n        if ($(event.currentTarget).hasClass(\"Form-submit\")) { return; }\n        this.generateContent();\n        if (JSON.stringify($(this.form).serializeArray()) !== JSON.stringify(this.originalData)) {\n            var target = $(event.currentTarget);\n\n            if (!(target.attr(\"data-dialog-disabled\") === \"true\")) {\n                event.preventDefault();\n                event.stopPropagation();\n                event.stopImmediatePropagation(),\n\n                vex.dialog.confirm({\n                    message:  Form.messages.confirmation,\n                    buttons: [\n                        {\n                            text: 'Save',\n                            type: 'button',\n                            className: 'vex-dialog-button-primary',\n                            click: function($vexContent, event) {\n                                $vexContent.data().vex.value = \"save\";\n                                vex.close($vexContent.data().vex.id);\n                            }\n                        },\n                        $.extend({}, vex.dialog.buttons.NO, {text: 'Cancel'}),\n                        {\n                            text: 'Don\\'t Save',\n                            type: 'button',\n                            className: 'vex-dialog-button-secondary vex-dialog-button-left',\n                            click: function($vexContent, event) {\n                                $vexContent.data().vex.value = \"continue\";\n                                vex.close($vexContent.data().vex.id);\n                            }\n                        }\n                    ],\n                    callback: (value) => {\n                        if(value == \"continue\") {\n                            target.attr(\"data-dialog-disabled\", \"true\");\n                            return target[0].click();\n                        } else if(value == \"save\") {\n                            if (this.form.classList.contains(Form.classes.sendAjax)) {\n                                this.submitViaAjax(true);\n                                target.attr(\"data-dialog-disabled\", \"true\");\n                                target[0].click();\n                            } else {\n                                // not sure if this works\n                                this.submit();\n                                //target.attr(\"data-dialog-disabled\", \"true\");\n                                //target[0].click();\n                            }\n                        }\n                    }\n                });\n            }\n        }\n    }\n\n    submit() {\n        this.form.querySelector('button[type=\"submit\"]').click();\n    }\n\n    generateContent() {\n        for (var generator of this.contentGenerators) {\n            generator(this);\n        }\n    }\n\n    handleSubmit(event) {\n        this.generateContent();\n        if (this.form.classList.contains(Form.classes.sendAjax) && !Form.disableAjax) {\n            event.preventDefault();\n            this.submitViaAjax();\n        }\n    }\n\n    submitViaAjax(ignoreRedirectResponse) {\n        var saveData = (data) => {\n            if (data.status === 'success') {\n                this.originalData = $(this.form).serializeArray();\n                console.log('Form Saved Successfully');\n            }\n            return data;\n        };\n\n        var promise = Ajax.request(\n            $(this.form).attr(\"method\"),\n            $(this.form).attr(\"action\"),\n            Form.getFormDataObject(this.form)\n        ).then(saveData).then(Ajax.displayNotification).catch(Ajax.handleError);\n\n        if(!ignoreRedirectResponse) {\n            promise = promise.then(Ajax.handleRedirect);\n        }\n\n        return promise;\n    }\n\n    static getFormDataObject(form) {\n        var data = new FormData();\n        $(form).find(\"[name]\").each(function() {\n            var name = $(this).attr(\"name\");\n            var value = this.value;\n\n            if(this.type == \"checkbox\" || this.type == \"radio\") {\n                if(!this.checked) {\n                    return;\n                }\n            }\n\n            if ($(this).is(\"select[multiple]\")) {\n                if(value) {\n                    for(var item of value) {\n                        data.append(name, item);\n                    }\n                } else {\n                    data.append(name, \"\");\n                }\n                return;\n            }\n\n            if(this.type == \"file\") {\n                var ref;\n                var files = ((ref = this.filesToUpload) != null) ? ref : this.files;\n                for (var i = 0, file; i < files.length; i++) {\n                    file = files[i];\n                    data.append(name, file);\n                }\n                return;\n            }\n\n            data.append(name, value);\n        });\n\n        return data;\n    }\n}\n\nForm.disableAjax = false;\n\n/**\n * Toggles whether form submission via AJAX is enabled globally, using Alt + Command/Control + J\n */\n$(document).on(\"keydown\", function(event) {\n    if(event.altKey && (event.controlKey || event.metaKey) && event.which == 74) {\n        Form.disableAjax = !Form.disableAjax;\n        event.preventDefault();\n        new Notification({\n            content: \"Asynchronous form submission \" + (Form.disableAjax ? \"disabled\" : \"enabled\"),\n            status: \"info\"\n        });\n    }\n});\n\nForm.messages = {\n    confirmation: \"Do you want to save changes?\"\n};\n\nForm.classes = {\n    warnBeforeExit: \"Form--warnBeforeExit\",\n    submitOnKeydown: \"Form--submitOnKeydown\",\n    sendAjax: \"Form--sendAjax\",\n    sendAjaxOnChange: \"Form--sendAjaxOnChange\",\n    autoSubmit: \"Form--autoSubmit\",\n    taggableInput: \".Form-taggable\"\n};","// ================================\n//             MainNav\n// ================================\n\nclass MainNav {\n\n    static headroom() {\n        var header = $(\".MainNav\");\n\n        if (header.length > 0) {\n            if ($(window).width() > 768) {\n                var headroom = new Headroom(header[0], {\n                    \"tolerance\": 20,\n                    \"offset\": 50,\n                    \"classes\":\n                        {\"initial\": \"Headroom\",\n                        \"pinned\": \"Headroom--pinned\",\n                        \"unpinned\": \"Headroom--unpinned\",\n                        \"top\": \"Headroom--top\",\n                        \"notTop\": \"Headroom--not-top\"\n                        }\n                });\n                headroom.init();\n            }\n        }\n    }\n}","// ================================\n//             Notification\n// ================================\n\nclass Notification {\n\n    static initializeExistingMessages() {\n\n        $(\".\" + Notification.classes.container).find(\".\" + Notification.classes.item).each(function(index, value) {\n            new Notification({message: $(this)});\n        });\n    }\n\n    constructor(options) {\n        if (options.log) { console.log(options.log); }\n\n        if (options.message) {\n            // Constructs a Notification object\n            // using a pre-existing message element.\n            this.message = options.message;\n            this.message.removeClass(\"is-hidden\");\n            this.registerHide();\n        } else if (options.status && options.content) {\n            // Constructs a Notification object,\n            // creating a new message element.\n            this.message = $(\n                \"<div class=\\\"\" + Notification.classes.item +\n                \" Notification--\" +\n                options.status + \"\\\">\" +\n                options.content +\n                \"<span class=\\\"Notification-dismiss Icon Icon-times\\\"></span></div>\"\n            );\n            this.show();\n        } else {\n            console.log(\"Invalid Arguments For New Notification\");\n            console.log(options);\n        }\n    }\n\n    show() {\n        this.message.appendTo(\".\" + Notification.classes.container);\n        this.registerHide();\n    }\n\n    registerHide() {\n        this.message.click(this.hide.bind(this));\n        setTimeout(this.hide.bind(this), 20000);\n    }\n\n    hide() {\n        this.message.addClass(\"is-sliding-up\");\n        setTimeout(this.remove.bind(this), 500);\n    }\n\n    remove() {\n        this.message.remove();\n    }\n}\n\nNotification.classes = {\n    container: \"Notification-container\",\n    item: \"Notification\"\n};\n\n","// ================================\n//             Notification\n// ================================\n\nclass Preferences {\n\n    static setPreferences(preferences) {\n        return Preferences.preferences = preferences;\n    }\n\n    static get(key, fallback = null) {\n        var o = Preferences.preferences;\n\n        if(!(typeof o !== \"undefined\" && o !== null)) {\n            return fallback;\n        }\n\n        var parts = key.split('.');\n        var last = parts.pop();\n        var l = parts.length;\n        var i = 1;\n        var current = parts[0];\n\n        while((o = o[current]) && i < l) {\n            current = parts[i];\n            i++;\n        }\n\n        if (o) {\n            return o[last];\n        } else {\n            return fallback;\n        }\n    }\n\n    static has(key) {\n        var o = Preferences.preferences;\n\n        if(!o) {\n            return false;\n        }\n\n        var parts = key.split('.');\n        var last = parts.pop();\n        var l = parts.length;\n        var i = 1;\n        var current = parts[0];\n\n        while((o = o[current]) && i < l) {\n            current = parts[i];\n            i++;\n        }\n\n        return o;\n    }\n}\n\n\n","// ================================\n//            Slider\n// ================================\n\nclass Slider {\n\n    static findAll(container) {\n        return container.find(Slider.selectors.slider).each(function() {\n            return Slider.list.push(new Slider($(this)));\n        });\n    }\n\n    // -----------------\n    //       Object\n    // -----------------\n\n    constructor(container) {\n        this.container = container;\n        this.list = this.container.find(Slider.selectors.list);\n        this.items = this.container.find(Slider.selectors.item);\n\n        this.total = this.items.length;\n        this.interval = this.container.attr(\"data-interval\") || 5000;\n\n        this.previousId = 0;\n        this.currentId = 0;\n        this.nextId = 0;\n        this.animating = false;\n        this.animationTime = 1000;\n\n        this.registerEvents();\n        this.hideAll();\n        this.next();\n\n        if (this.container.attr(\"data-autoplay\") === \"true\") {\n            this.play();\n        }\n    }\n\n    registerEvents() {\n        this.container.find(Slider.selectors.back).on(\"click\", this.previous.bind(this));\n        this.container.find(Slider.selectors.forward).on(\"click\", this.next.bind(this));\n    }\n\n    play() {\n        var callback = this.container.attr(\"data-direction\") === \"reverse\" ? this.previous.bind(this) : this.next.bind(this);\n        this.timer = setInterval(callback, this.interval);\n    }\n\n    pause() {\n        clearInterval(this.timer);\n    }\n\n    getItem(id) {\n        return this.list.children(\":nth-child(\" + id + \")\");\n    }\n\n    hideAll() {\n        this.items.removeClass();\n        this.items.addClass(Slider.classes.item + \" \" + Slider.classes.isHidden);\n    }\n\n    static allClasses() {\n        return Slider.classes.isHidden + \" \" + Slider.classes.slideInLeft + \" \" + Slider.classes.slideInRight + \" \" + Slider.classes.slideOutLeft + \" \" + Slider.classes.slideOutRight;\n    }\n\n    next() {\n        if (!this.shouldAnimate()) {\n            return false;\n        }\n\n        this.previousId = this.currentId;\n\n        this.currentId += 1;\n        if (this.currentId > this.total) {\n            this.currentId = 1;\n        }\n\n        this.nextId = this.currentId + 1;\n        if (this.nextId > this.total) {\n            this.nextId = 1\n        }\n\n        current = this.getItem(this.currentId);\n        previous = this.getItem(this.previousId);\n\n        this.hideAll();\n\n        previous\n            .removeClass(Slider.allClasses())\n            .addClass(Slider.classes.slideOutLeft)\n\n        current\n            .removeClass(Slider.allClasses())\n            .addClass(Slider.classes.slideInRight)\n    }\n\n    previous() {\n        if (!this.shouldAnimate()) {\n            return false;\n        }\n\n        this.nextId = this.currentId;\n\n        this.currentId -= 1;\n        if (this.currentId < 1) {\n            this.currentId = this.total;\n        }\n\n        this.previousId = this.currentId - 1\n        if (this.nextId < 1) {\n            this.nextId = this.total\n        }\n\n        current = this.getItem(this.currentId);\n        next = this.getItem(this.nextId);\n\n        this.hideAll();\n\n        next\n            .removeClass(Slider.allClasses())\n            .addClass(Slider.classes.slideOutRight)\n\n        current\n            .removeClass(Slider.allClasses())\n            .addClass(Slider.classes.slideInLeft)\n    }\n\n    shouldAnimate() {\n        if (this.animating) {\n            return false;\n        }\n\n        this.animating = true;\n        setTimeout(\n            () => {\n                this.animating = false;\n            },\n            this.animationTime\n        );\n\n        return true;\n    }\n};\n\nSlider.selectors = {\n    slider: \".Slider\",\n    list: \".Slider-list\",\n    item: \".Slider-item\",\n    back: \".Slider-back\",\n    forward: \".Slider-forward\"\n};\n\nSlider.classes = {\n    item: \"Slider-item\",\n    isCurrent: \"Slider-item--current\",\n    isHidden: \"Slider-item--hidden\",\n    slideInLeft: \"Slider-item--slideInLeft\",\n    slideInRight: \"Slider-item--slideInRight\",\n    slideOutLeft: \"Slider-item--slideOutLeft\",\n    slideOutRight: \"Slider-item--slideOutRight\",\n    isAfter: \"Slider-item--after\",\n    noTransition: \"Slider--noTransition\"\n};\n\nSlider.list = [];","class SmoothState {\n    constructor() {\n        this.loading = false;\n        this.smoothState = $(\"#page\").smoothState({\n            anchors: \".Link--smoothState\",\n            root: $(document),\n            cacheLength: 0,\n            forms: \"null\",\n            onStart: {\n                duration: 350,\n                render: this.onStart\n            },\n            onProgress: {\n                duration: 0,\n                render: this.onProgress\n            },\n            onReady: {\n                duration: 0,\n                render: this.onReady\n            },\n            onAfter: this.onAfter\n        }).data('smoothState');\n    }\n\n    onStart(container) {\n        var elements;\n        $(\"html, body\").animate({\n            scrollTop: 0\n        });\n        this.loading = true;\n        elements = $('.Block');\n        $(elements.get().reverse()).each(function(index) {\n            var block, timeout;\n            block = $(this);\n            timeout = index * 100;\n            return setTimeout(function() {\n                return block.addClass('Block--isExiting');\n            }, timeout);\n        });\n        return setTimeout(function() {\n            if (this.loading) {\n                return $(\".pace-activity\").addClass(\"pace-activity-active\");\n            }\n        }, elements.length * 100);\n    }\n\n    onProgress(container) {\n        return $(\"html, body\").css('cursor', 'wait').find('a').css('cursor', 'wait');\n    };\n\n    onReady(container, content) {\n        $(\"html, body\").css('cursor', 'auto').find('a').css('cursor', 'auto');\n        Oxygen.reset();\n        container.hide();\n        container.html(content);\n        $(\".pace-activity\").removeClass(\"pace-activity-active\");\n        $('.Block').each(function (index) {\n            var block, timeout;\n            block = $(this);\n            timeout = index * 100;\n            block.addClass('Block--isHidden');\n            return setTimeout(function () {\n                block.removeClass('Block--isHidden');\n                block.addClass('Block--isEntering');\n                return setTimeout(function () {\n                    return block.removeClass('Block--isEntering');\n                }, 350);\n            }, timeout);\n        });\n        return container.show();\n    };\n\n    onAfter(container, content) {\n        this.loading = false;\n        $(\".pace-activity\").removeClass(\"pace-activity-active\");\n        return Oxygen.init($(\"#page\"));\n    };\n\n    static setTheme(theme) {\n        return $(\"#page\").addClass('Page-transition--' + theme);\n    };\n\n    load(url, push) {\n        return this.smoothState.load(url, push);\n    };\n\n}","// ================================\n//          ProgressBar\n// ================================\n\nclass TabSwitcher {\n\n    static findAll(container) {\n        return container.find(\".\" + TabSwitcher.classes.tabs).each(function() {\n            var tabs = $(this);\n            if (tabs.hasClass(TabSwitcher.classes.content)) {\n                container = tabs;\n            } else {\n                container = tabs.siblings(\".\" + TabSwitcher.classes.content);\n            }\n\n            if (container.length === 0) { container = tabs.parent().siblings(\".\" + TabSwitcher.classes.content); }\n\n            return TabSwitcher.list.push(new TabSwitcher(tabs, container));\n        });\n    }\n\n    // -----------------\n    //       Object\n    // -----------------\n\n    constructor(tabs, container) {\n        this.handleClick = this.handleClick.bind(this);\n        this.tabs = tabs;\n        this.container = container;\n        this.findDefault();\n        this.registerEvents();\n    }\n\n    findDefault() {\n        var tab = this.tabs.children(\"[data-default-tab]\").attr(\"data-switch-to-tab\");\n        return this.setTo(tab);\n    }\n\n    registerEvents() {\n        return this.tabs.children(\"[data-switch-to-tab]\").on(\"click\", this.handleClick);\n    }\n\n    handleClick(event) {\n        var tab = $(event.currentTarget).attr(\"data-switch-to-tab\");\n        return this.setTo(tab);\n    }\n\n    setTo(tab) {\n        this.current = tab;\n        this.container.children(\"[data-tab]\").removeClass(TabSwitcher.classes.active);\n        this.container.children(\"[data-tab=\\\"\" + tab + \"\\\"]\").addClass(TabSwitcher.classes.active);\n        this.tabs.children(\"[data-switch-to-tab]\").removeClass(TabSwitcher.classes.active);\n        return this.tabs.children(\"[data-switch-to-tab=\\\"\" + tab + \"\\\"]\").addClass(TabSwitcher.classes.active);\n    }\n}\n\n// -----------------\n//       Static\n// -----------------\n\nTabSwitcher.classes = {\n    tabs: \"TabSwitcher-tabs\",\n    content: \"TabSwitcher-content\",\n    active: \"TabSwitcher--isActive\"\n};\n\nTabSwitcher.list = [];","// ================================\n//             Toggle\n// ================================\n\nclass Toggle {\n\n    constructor(toggle, enableCallback, disableCallback) {\n        this.toggle = toggle;\n        this.enableCallback = enableCallback;\n        this.disableCallback = disableCallback;\n\n        this.registerEvents();\n    }\n\n    registerEvents() {\n        this.toggle.on(\"click\", event => this.handleToggle(event));\n        if(this.toggle.attr(\"data-enabled\") == undefined) {\n            this.toggle.attr(\"data-enabled\", \"false\");\n        }\n    }\n\n    handleToggle(event) {\n        if (this.toggle.attr(\"data-enabled\") === \"true\") {\n            this.toggle.attr(\"data-enabled\", \"false\");\n            this.disableCallback(event);\n        } else {\n            this.toggle.attr(\"data-enabled\", \"true\");\n            this.enableCallback(event);\n        }\n    }\n}\n\nToggle.classes = {\n    ifEnabled:  \"Toggle--ifEnabled\",\n    ifDisabled: \"Toggle--ifDisabled\"\n};\n\n// ================================\n//        FullscreenToggle\n// ================================\n\nclass FullscreenToggle extends Toggle {\n\n    constructor(toggle, fullscreenElement, enterFullscreenCallback, exitFullscreenCallback) {\n        super(toggle, null, null);\n        this.fullscreenElement = fullscreenElement;\n        this.enableCallback = this.enterFullscreen;\n        this.disableCallback = this.exitFullscreen;\n        this.enterFullscreenCallback = enterFullscreenCallback;\n        this.exitFullscreenCallback = exitFullscreenCallback;\n    }\n\n    enterFullscreen() {\n        this.fullscreenElement.addClass(\"FullscreenToggle--isFullscreen\");\n        $(document.body).addClass(\"Body--noScroll\");\n\n        var elem = document.documentElement;\n        if (elem.requestFullscreen) {\n            elem.requestFullscreen();\n        } else if (elem.msRequestFullscreen) {\n            elem.msRequestFullscreen();\n        } else if (elem.mozRequestFullScreen) {\n            elem.mozRequestFullScreen();\n        } else if (elem.webkitRequestFullscreen) {\n            elem.webkitRequestFullscreen();\n        }\n\n        (this.enterFullscreenCallback)();\n    }\n\n    exitFullscreen() {\n        this.fullscreenElement.removeClass(\"FullscreenToggle--isFullscreen\");\n        $(document.body).removeClass(\"Body--noScroll\");\n\n        if (document.exitFullscreen) {\n            document.exitFullscreen();\n        } else if (document.mozCancelFullScreen) {\n            document.mozCancelFullScreen();\n        } else if (document.webkitExitFullscreen) {\n            document.webkitExitFullscreen();\n        }\n\n        (this.exitFullscreenCallback)();\n    }\n}\n\n","class Upload {\n\n    static registerEvents(container) {\n        var elements;\n        elements = container.find(Upload.selectors.uploadElement);\n        elements.find(Upload.selectors.dropzoneElement).on(\"dragover\", Upload.handleDragOver).on(\"dragleave\", Upload.handleDragLeave).on(\"drop\", Upload.handleDrop);\n        return elements.find(\"input[type=file]\").on(\"change\", Upload.handleChange);\n    };\n\n    static handleDragOver(event) {\n        event.preventDefault();\n        return $(event.currentTarget).addClass(Upload.states.onDragOver);\n    };\n\n    static handleDragLeave(event) {\n        return $(event.currentTarget).removeClass(Upload.states.onDragOver);\n    };\n\n    static handleDrop(event) {\n        var upload;\n        event.preventDefault();\n        $(event.currentTarget).removeClass(Upload.states.onDragOver);\n        upload = $(event.currentTarget).closest(Upload.selectors.uploadElement);\n        return Upload.addFiles(upload, event.originalEvent.dataTransfer.files);\n    };\n\n    static handleChange(event) {\n        return Upload.addFiles($(event.currentTarget).closest(Upload.selectors.uploadElement), event.currentTarget.files);\n    };\n\n    static addFiles(upload, files) {\n        var input = upload.find('input[type=\"file\"]')[0];\n        for(var i = 0, len = files.length; i < len; i++) {\n            var file = files[i];\n            var imageType = /^image\\//;\n            console.log(file.type);\n            var preview = $(\n                '<div class=\"FileUpload-preview\"><div class=\"FileUpload-preview-info\">' +\n                    '<span>' + file.name + '</span>' +\n                    '<button type=\"button\" class=\"FileUpload-preview-remove Button--transparent Icon Icon-times\"></button>' +\n                    '<span class=\"FileUpload-preview-size\">' + fileSize(file.size) + '</span>' +\n                '</div></div>');\n            preview.find(Upload.selectors.removeFile).on(\"click\", function (event) {\n                var button, index;\n                button = $(event.currentTarget);\n                preview = button.closest(Upload.selectors.previewElement);\n                index = input.filesToUpload.indexOf(file);\n\n                if(index > -1) {\n                    input.filesToUpload.splice(index, 1)\n                }\n                Upload.recalculateDropzoneVisibility(upload, files);\n                preview.remove();\n            });\n            upload.prepend(preview);\n            if (input.filesToUpload == null) {\n                input.filesToUpload = [];\n            }\n            input.filesToUpload.push(file);\n            if (imageType.test(file.type)) {\n                var reader = new FileReader();\n                reader.onload = function (e) {\n                    preview.css(\"background-image\", 'url(' + e.target.result + ')');\n                };\n                reader.readAsDataURL(file);\n            } else {\n                preview.prepend($('<div class=\"Icon-container\"><span class=\"Icon Icon--gigantic Icon--light Icon-file-text\"></span></div>'));\n            }\n        }\n        Upload.recalculateDropzoneVisibility(upload);\n        console.log(files);\n    };\n\n    static recalculateDropzoneVisibility(upload, files) {\n        var input = upload.find('input[type=\"file\"]')[0];\n        console.log(input);\n        var dropzone = upload.find(Upload.selectors.dropzoneElement);\n        if(!input.multiple && input.filesToUpload.length > 0) {\n            dropzone.hide();\n        } else {\n            dropzone.show();\n        }\n    }\n\n};\n\nUpload.selectors = {\n    uploadElement: \".FileUpload\",\n    previewElement: \".FileUpload-preview\",\n    dropzoneElement: \".FileUpload-dropzone\",\n    removeFile: \".FileUpload-preview-remove\"\n};\n\nUpload.states = {\n    onDragOver: \"FileUpload--onDragOver\"\n};\n\nfunction fileSize(sizeInBytes) {\n    var approx, multiple, multiples, output;\n    output = sizeInBytes + \" bytes\";\n    multiples = ['KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n    multiple = 0;\n    approx = sizeInBytes / 1024;\n    while (approx > 1) {\n        output = approx.toFixed(3) + ' ' + multiples[multiple];\n        approx /= 1024;\n        multiple++;\n    }\n    return output;\n}","window.Oxygen || (window.Oxygen = {});\nOxygen.reset = function() {\n    window.editors = [];\n    Oxygen.load = [];\n    Ajax.errorCallbacks = [];\n    Ajax.successCallbacks = [];\n    Oxygen.setBodyScrollable(true);\n    return Dropdown.handleGlobalClick({ target: document.body });\n};\n\nOxygen.setBodyScrollable = function(scrollable) {\n    if (scrollable) {\n        document.body.classList.remove(\"Body--noScroll\");\n    } else {\n        document.body.classList.add(\"Body--noScroll\");\n    }\n};\n\nOxygen.init = function(container) {\n\n    //\n    // -------------------------\n    //       FLASH MESSAGE\n    // -------------------------\n    //\n    // This small delay helps to\n    // reduce lag on page load.\n    //\n\n    setTimeout(Notification.initializeExistingMessages, 250);\n\n    Dialog.registerEvents(container);\n\n    //\n    // -------------------------\n    //       IMAGE EDITOR\n    // -------------------------\n    //\n    // Initialises image editors for the page.\n    //\n\n    ImageEditor.initialize(container);\n\n    //\n    // -------------------------\n    //           LOGIN\n    // -------------------------\n    //\n    // Login form animations.\n    //\n\n    if ($(\".Login-form\").length > 0) {\n        Oxygen.initLogin();\n    }\n\n    //\n    // -------------------------\n    //           OTHER\n    // -------------------------\n    //\n    // Other event handlers.\n    //\n\n    Dropdown.registerEvents(container);\n    EditableList.registerEvents(container);\n    Form.findAll(container);\n    Upload.registerEvents(container);\n    TabSwitcher.findAll(container);\n    Slider.findAll(container);\n\n    //\n    // -------------------------\n    //       CODE EDITOR\n    // -------------------------\n    //\n    // Initialises code editors for the page.\n    //\n\n    if ((typeof editors !== \"undefined\" && editors !== null)) {\n        Editor.createEditors(editors);\n    }\n\n    let load = Oxygen.load || [];\n    for (let i = 0, callback; i < load.length; i++) {\n        callback = load[i];\n        callback();\n    }\n};\n\n$().ready(function() {\n    MainNav.headroom();\n\n    if ((typeof user !== \"undefined\" && user !== null)) {\n        Preferences.setPreferences(user);\n    }\n\n    Oxygen.init($(document));\n\n    if (Preferences.get('pageLoad.smoothState.enabled', true) === true) {\n        window.smoothState = new SmoothState();\n        SmoothState.setTheme(Preferences.get('pageLoad.smoothState.theme', 'slide'));\n    }\n\n    let progressThemes = Preferences.get('pageLoad.progress.theme', [\"minimal\", \"spinner\"]);\n    console.log(\"Applying progress themes:\");\n    console.log(progressThemes)\n    for (let i = 0, theme; i < progressThemes.length; i++) {\n        theme = progressThemes[i];\n        $(document.body).addClass(\"Page-progress--\" + theme);\n    }\n\n    Form.registerKeydownHandler();\n    Dropdown.registerGlobalEvent();\n});","// ================================\n//             ImageEditor\n// ================================\n\nclass ImageEditor {\n\n    // -----------------\n    //      Object\n    // -----------------\n\n    constructor(container) {\n        this.handlePreview = this.handlePreview.bind(this);\n        this.handleSave = this.handleSave.bind(this);\n        this.onRequestEnd = this.onRequestEnd.bind(this);\n        this.handleCropEnable = this.handleCropEnable.bind(this);\n        this.handleCropDisable = this.handleCropDisable.bind(this);\n        this.handleCropSelect = this.handleCropSelect.bind(this);\n        this.handleCropInputChange = this.handleCropInputChange.bind(this);\n        this.handleCropRelease = this.handleCropRelease.bind(this);\n        this.handleResizeInputChange = this.handleResizeInputChange.bind(this);\n        this.container = container;\n        this.image = this.container.find(\".\" + ImageEditor.classes.layout.image);\n        if (!this.image.length) { throw new Error(\"<img> element doesn't exist\"); }\n\n        this.forms = {\n            simple: this.image.parent().parent().find(\".\" + ImageEditor.classes.form.simple),\n            advanced: this.image.parent().parent().find(\".\" + ImageEditor.classes.form.advanced)\n        };\n\n        this.fields = {\n            crop: {\n                x: this.container.find('[name=\"crop[x]\"]'),\n                y: this.container.find('[name=\"crop[y]\"]'),\n                width: this.container.find('[name=\"crop[width]\"]'),\n                height: this.container.find('[name=\"crop[height]\"]')\n            },\n            resize: {\n                width: this.container.find('[name=\"resize[width]\"]'),\n                height: this.container.find('[name=\"resize[height]\"]'),\n                keepAspectRatio: this.container.find('[name=\"resize[keepAspectRatio]\"][value=\"true\"]')\n            },\n            macro: this.container.find('[name=\"macro\"]'),\n            name: this.container.find('[name=\"name\"]'),\n            slug: this.container.find('[name=\"slug\"]')\n        };\n\n        var that = this;\n        this.image[0].onload = function() {\n            console.log('Image Loaded');\n            if (!(that.imageDimensions != null)) { that.imageDimensions = { cropX: 0, cropY: 0 }; }\n            that.imageDimensions.width = this.clientWidth;\n            that.imageDimensions.height = this.clientHeight;\n            that.imageDimensions.naturalWidth = this.naturalWidth;\n            that.imageDimensions.naturalHeight = this.naturalHeight;\n            that.imageDimensions.ratio = this.naturalWidth / this.naturalHeight;\n            that.fields.resize.width.val(that.imageDimensions.naturalWidth);\n            that.fields.resize.height.val(that.imageDimensions.naturalHeight);\n            return that.handleCropEnable();\n        };\n\n        this.fullscreenToggle = new FullscreenToggle(this.container.find(\".\" + ImageEditor.classes.button.toggleFullscreen),this.container, function(){} , function() {});\n\n        this.container.find(\".\" + ImageEditor.classes.button.apply).on(\"click\", this.handlePreview);\n        this.container.find(\".\" + ImageEditor.classes.button.save).on(\"click\", this.handleSave);\n        this.container.find(\".\" + ImageEditor.classes.form.crop).on(\"change\", this.handleCropInputChange);\n        this.container.find(\".\" + ImageEditor.classes.form.resize).on(\"change\", this.handleResizeInputChange);\n\n        this.jCropApi = null;\n        this.cropDisableCounter = 2;\n    }\n\n    handlePreview() {\n        this.applyChanges(this.gatherData());\n\n        return this.progressNotification = new Notification({\n            content: \"Processing Image\",\n            status: \"success\"\n        });\n    }\n\n    handleSave() {\n        var data = this.gatherData();\n        data.save = true;\n        data.name = this.fields.name.val();\n        data.slug = this.fields.slug.val();\n        this.applyChanges(data);\n\n        return this.progressNotification = new Notification({\n            content: \"Saving Image\",\n            status: \"success\"\n        });\n    }\n\n    gatherData() {\n        var mode = TabSwitcher.list[0].current;\n        switch (mode) {\n            case \"simple\": return this.getSimpleData();\n            case \"advanced\": return this.getAdvancedData();\n            default: return {};\n        }\n    }\n\n    getSimpleData() {\n        return this.removeDefaultFields(Form.getFormData(this.forms.simple));\n    }\n\n    removeDefaultFields(formData) {\n        var resize = (formData) => {\n            return (!formData[\"resize[width]\"] || formData[\"resize[width]\"] === this.imageDimensions.naturalWidth.toString()) &&(!formData[\"resize[height]\"] || formData[\"resize[height]\"] === this.imageDimensions.naturalHeight.toString());\n        };\n\n        var defaults = {\n            \"fit[position]\": (item) => {\n                return item === \"center\";\n            },\n            \"resize[width]\": (item, formData) => {\n                return resize(formData);\n            },\n            \"resize[height]\": (item, formData) => {\n                return resize(formData);\n            },\n            \"resize[keepAspectRatio]\": (item, formData) => {\n                return resize(formData);\n            },\n            \"gamma\": (item) => {\n                return item === \"1\";\n            },\n            \"greyscale\": (item) => {\n                return item === \"false\";\n            },\n            \"invert\": (item) => {\n                return item === \"false\";\n            },\n            \"rotate[backgroundColor]\": (item) => {\n                return item === \"#ffffff\";\n            },\n            \"crop[x]\": (item) => {\n                return this.imageDimensions.cropX = item === \"\" ? 0 : parseInt(item);\n            },\n            \"crop[y]\": (item) => {\n                return this.imageDimensions.cropY = item === \"\" ? 0 : parseInt(item);\n            }\n        };\n\n        for (var key in formData) {\n            var item = formData[key];\n            if(defaults[key] && defaults[key](item, formData)) {\n                delete formData[key];\n            } else if(item === \"0\" || item === \"\") {\n                delete formData[key];\n            }\n        }\n\n        return formData;\n    }\n\n    getAdvancedData() {\n        return JSON.parse(this.fields.macro.val());\n    }\n\n    // --------------------------------------------\n    //                     REQUEST\n    // --------------------------------------------\n\n    applyChanges(data) {\n        if (this.applyingChanges) {\n            new Notification({\n                content: \"Already Processing\",\n                status: \"failed\"\n            });\n            return;\n        }\n\n        $.ajax({\n            type:           \"GET\",\n            url:            this.image.attr(\"data-root\"),\n            data:           data,\n            contentType:    false,\n            success:        this.onRequestEnd,\n            error:          () => {\n                this.progressNotification.hide();\n                return Ajax.handleError();\n            },\n            xhr:            () => {\n                var object = window.ActiveXObject ? new ActiveXObject(\"XMLHttp\") : new XMLHttpRequest();\n                object.overrideMimeType(\"text/plain; charset=x-user-defined\");\n                return object;\n            }\n        });\n        return this.applyingChanges = true;\n    }\n\n    onRequestEnd(response, status, request) {\n        this.applyingChanges = false;\n        this.progressNotification.hide();\n        if ((this.jCropApi != null)) { this.jCropApi.destroy(); }\n        this.jCropApi = null;\n        this.forms.simple.attr(\"data-changed\", false);\n        this.forms.advanced.attr(\"data-changed\", false);\n\n        return this.image[0].src = \"data:image/jpeg;base64,\" + base64Encode(response);\n    }\n\n    // --------------------------------------------\n    //                     CROP\n    // --------------------------------------------\n\n    handleCropEnable() {\n        if((this.jCropApi != null)) {\n            return this.jCropApi.enable();\n        } else {\n            var that = this;\n            return this.image.Jcrop({\n                    onChange: this.handleCropSelect,\n                    onSelect: this.handleCropSelect,\n                    onRelease: this.handleCropRelease\n                }, function() {\n                    return that.jCropApi = this;\n                }\n            );\n        }\n    }\n\n    handleCropDisable() {\n        return this.jCropApi.disable();\n    }\n\n    handleCropSelect(c) {\n        if(this.cropDisableCounter > 1) {\n            this.fields.crop.x.val(Math.round(c.x / this.imageDimensions.width * this.imageDimensions.naturalWidth + this.imageDimensions.cropX));\n            this.fields.crop.y.val(Math.round(c.y / this.imageDimensions.height * this.imageDimensions.naturalHeight + this.imageDimensions.cropY));\n            this.fields.crop.width.val(Math.round(c.w / this.imageDimensions.width * this.imageDimensions.naturalWidth));\n            return this.fields.crop.height.val(Math.round(c.h / this.imageDimensions.height * this.imageDimensions.naturalHeight));\n        } else {\n            return this.cropDisableCounter++;\n        }\n    }\n\n    handleCropInputChange() {\n        if(!(this.jCropApi != null)) { return; }\n        var x = this.fields.crop.x.val() / this.imageDimensions.naturalWidth * this.imageDimensions.width - this.imageDimensions.cropX;\n        var y = this.fields.crop.y.val() / this.imageDimensions.naturalHeight * this.imageDimensions.height - this.imageDimensions.cropY;\n        this.cropDisableCounter = 0;\n        return this.jCropApi.setSelect([\n            x,\n            y,\n            x + this.fields.crop.width.val() / this.imageDimensions.naturalWidth * this.imageDimensions.width,\n            y + this.fields.crop.height.val() / this.imageDimensions.naturalHeight * this.imageDimensions.height\n        ]);\n    }\n\n    handleCropRelease() {\n        this.fields.crop.x.val(0);\n        this.fields.crop.y.val(0);\n        this.fields.crop.width.val(0);\n        return this.fields.crop.height.val(0);\n    }\n\n    handleResizeInputChange(e) {\n        if(this.fields.resize.keepAspectRatio[0].checked) {\n            var name = e.target.name;\n            var value = $(e.target).val();\n            console.log(name, value);\n            if(name === 'resize[width]') {\n                return this.fields.resize.height.val(Math.round(value / this.imageDimensions.ratio));\n            } else {\n                return this.fields.resize.width.val(Math.round(value * this.imageDimensions.ratio));\n            }\n        }\n    }\n\n    static initialize(container) {\n        return container.find(\".\" + ImageEditor.classes.layout.container).each( function() {\n                return ImageEditor.list.push(new ImageEditor($(this)));\n            }\n        );\n    }\n\n};\n\n\nvar base64Encode = function(inputStr) {\n    var b64 = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n    var outputStr = \"\";\n    var i = 0;\n    while (i < inputStr.length) {\n\n        //all three \"& 0xff\" added below are there to fix a known bug\n        //with bytes returned by xhr.responseText\n        var byte1 = inputStr.charCodeAt(i++) & 0xff;\n        var byte2 = inputStr.charCodeAt(i++) & 0xff;\n        var byte3 = inputStr.charCodeAt(i++) & 0xff;\n        var enc1 = byte1 >> 2;\n        var enc2 = ((byte1 & 3) << 4) | (byte2 >> 4);\n        var enc3 = undefined;\n        var enc4 = undefined;\n        if (isNaN(byte2)) {\n            enc3 = enc4 = 64;\n        } else {\n            enc3 = ((byte2 & 15) << 2) | (byte3 >> 6);\n            if (isNaN(byte3)) {\n                enc4 = 64;\n            } else {\n                enc4 = byte3 & 63;\n            }\n        }\n        outputStr += b64.charAt(enc1) + b64.charAt(enc2) + b64.charAt(enc3) + b64.charAt(enc4);\n    }\n    return outputStr;\n};\n\nImageEditor.list = [];\n\nImageEditor.classes = {\n    layout: {\n        container: \"ImageEditor\",\n        image: \"ImageEditor-image\"\n    },\n    button: {\n        toggleFullscreen: \"ImageEditor-toggleFullscreen\",\n        save: \"ImageEditor-save\",\n        apply: \"ImageEditor-apply\"\n    },\n    form: {\n        simple: \"ImageEditor-form--simple\",\n        advanced: \"ImageEditor-form--advanced\",\n        crop: \"ImageEditor-crop-input\",\n        resize: \"ImageEditor-resize-input\"\n    }\n};","// ================================\n//          CodeViewInterface\n// ================================\n\nclass CodeViewInterface {\n\n    constructor(editor) {\n        this.editor = editor;\n        this.view = null;\n    }\n\n    create() {\n        // edit the textarea\n        var object = ace.edit(this.editor.name + \"-ace-editor\");\n\n        // set user preferences\n        object.getSession().setMode(\"ace/mode/\" + this.editor.language);\n        object.setTheme(Preferences.get('editor.ace.theme'));\n        object.getSession().setUseWrapMode(Preferences.get('editor.ace.wordWrap'));\n        object.setHighlightActiveLine(Preferences.get('user.editor.ace.highlightActiveLine'));\n        object.setShowPrintMargin(Preferences.get('editor.ace.showPrintMargin'));\n        object.setShowInvisibles(Preferences.get('editor.ace.showInvisibles'));\n        object.setReadOnly(this.editor.readOnly);\n        $(\"#\" + this.editor.name + \"-ace-editor\").css(\"font-size\", Preferences.get('editor.ace.fontSize'));\n\n        // store object\n        return this.view = object;\n    }\n\n    show(full) {\n        let editor = $(\"#\" + this.editor.name + \"-ace-editor\");\n        editor.removeClass(Editor.classes.state.isHidden);\n        if (full) {\n            return editor.css(\"width\", \"100%\");\n        }\n\n        // after animation is completed\n        setTimeout(() => {\n            this.resize()\n        }, 300)\n    }\n\n    hide() {\n        console.log(\"CodeViewInterface.hide\");\n        return $(\"#\" + this.editor.name + \"-ace-editor\").addClass(Editor.classes.state.isHidden);\n    }\n\n    valueFromForm() {\n        this.view.setValue(this.editor.textarea.val(), -1);\n    }\n\n    valueToForm() {\n        this.editor.textarea.val(this.view.getValue());\n    }\n\n    resize() {\n        this.view.resize();\n    }\n}","// ================================\n//          DesignViewInterface\n//   ================================\n\nclass DesignViewInterface {\n\n    constructor(editor) {\n        this.editor = editor;\n        this.view = null;\n    }\n\n    create() {\n        var config = Preferences.get('editor.ckeditor', {});\n        config.customConfig = config.customConfig || '';\n        config.contentsCss = this.editor.stylesheets;\n\n        console.log(config);\n\n        // create instance\n        var object = CKEDITOR.replace(this.editor.name + \"-editor\", config);\n\n        // store object\n        return this.view = object;\n    }\n\n    show(full) {\n        $(\"#cke_\" + this.editor.name + \"-editor\").show();\n        if (full) {\n            $(\"#\" + this.editor.name + \"-ace-editor\").css(\"width\", \"100%\");\n        }\n        return;\n    }\n\n    hide() {\n        $(\"#cke_\" + this.editor.name + \"-editor\").hide();\n    }\n\n    valueFromForm() {\n        return this.view.setData(this.editor.textarea.val());\n    }\n\n    valueToForm() {\n        return $(\"textarea[name=\\\"\" + this.editor.name + \"\\\"]\").val(this.view.getData());\n    }\n}","// ================================\n//                 Editor\n// ================================\n\nclass Editor {\n\n    // only create if textarea exists\n    static createEditors(editors) {\n        for (var i = 0, editor; i < editors.length; i++) {\n            editor = editors[i];\n            var textarea = $(\"textarea[name=\\\"\" + editor.name + \"\\\"]\");\n            if (textarea.length) {\n                console.log(\"Editor found\");\n                if (!(editor.mode != null)) { editor.mode = user.editor.defaultMode; }\n                console.log(editor);\n                var e = new Editor(editor.name, editor.language, editor.mode, editor.readOnly, editor.stylesheets);\n                Editor.list.push(e);\n            } else {\n                console.log(\"Editor not found\");\n                console.log(editor);\n            }\n        }\n    }\n\n    constructor(name, language, currentMode, readOnly, stylesheets = []) {\n        this.enterFullscreen = this.enterFullscreen.bind(this);\n        this.exitFullscreen = this.exitFullscreen.bind(this);\n        this.handleSwitchEditor = this.handleSwitchEditor.bind(this);\n        this.handleFormSubmit = this.handleFormSubmit.bind(this);\n        this.name = name;\n        this.language = language;\n        this.currentMode = currentMode;\n        this.readOnly = readOnly;\n        this.stylesheets = stylesheets;\n        this.modes = {};\n        this.textarea = $(\"textarea[name=\\\"\" + this.name + \"\\\"]\");\n        this.container = this.textarea.parents(\".\" + Editor.classes.editor.container);\n        var toggle = this.container.find(\".\" + Editor.classes.button.fullscreenToggle);\n        this.fullscreenToggle = new FullscreenToggle(toggle, this.container, this.enterFullscreen, this.exitFullscreen);\n\n        this.show();\n        this.resizeToContent();\n        this.registerEvents();\n    }\n\n    getMode(mode) {\n        if (!(typeof mode !== \"undefined\" && mode !== null)) {\n            return this.currentMode;\n        } else {\n            return mode;\n        }\n    }\n\n    registerEvents() {\n        // switch editor button\n        this.container.find(\".\" + Editor.classes.button.switchEditor).on(\"click\", this.handleSwitchEditor);\n\n        // ask the form to tell us when its data is being read,\n        // so we can flush changes to the underlying <input>/<textarea> element\n        var form = $(this.container).parents(\"form\")[0];\n        if(form !== undefined && form.formObject) {\n            form.formObject.contentGenerators.push(form =>\n                this.valueToForm()\n            );\n        }\n    }\n\n    create(m) {\n        var mode = this.getMode(m);\n        switch (mode) {\n            case \"code\":\n                this.modes.code = new CodeViewInterface(this);\n                break;\n            case \"design\":\n                this.modes.design = new DesignViewInterface(this);\n                break;\n            case \"preview\":\n                this.modes.preview = new PreviewInterface(this);\n                break;\n            case \"split\":\n                this.modes.split = new SplitViewInterface(this);\n                break;\n        }\n        this.modes[mode].create();\n    }\n\n    show(m, full = true) {\n        var mode = this.getMode(m);\n        if (!(this.modes[mode] != null)) { this.create(mode); }\n        this.modes[mode].show(full);\n        this.currentMode = mode;\n        this.valueFromForm(mode);\n    }\n\n    hide(m) {\n        var mode = this.getMode(m);\n        this.modes[mode].hide();\n        this.valueToForm(mode);\n    }\n\n    valueFromForm(m) {\n        var mode = this.getMode(m);\n        this.modes[mode].valueFromForm();\n    }\n\n    valueToForm(m) {\n        var mode = this.getMode(m);\n        this.modes[mode].valueToForm();\n    }\n\n    resizeToContainer() {\n        // resize ace\n        if (this.modes.code) { this.modes.code.resize(); }\n    }\n\n    resizeToContent() {\n        // size to content\n        this.container.find(\".\" + Editor.classes.editor.content).css(\"height\", this.textarea.attr(\"rows\") * 1.5 + \"em\");\n\n        // resize ace\n        if (this.modes.code) { this.modes.code.resize(); }\n    }\n\n    // enter fullscreen\n    enterFullscreen() {\n        console.log(\"fullscreen\");\n        this.resizeToContainer();\n    }\n\n    // exit fullscreen\n    exitFullscreen() {\n        console.log(\"exit\");\n        console.trace();\n        this.resizeToContent();\n    }\n\n    handleSwitchEditor(event) {\n        console.log(\"Editor.handleSwitchEditor\");\n        var editorToSwitch = $(event.target).attr(\"data-editor\");\n        this.hide();\n        return this.show(editorToSwitch);\n    }\n\n    handleFormSubmit() {\n        return this.valueToForm();\n    }\n}\n\nEditor.list = [];\nEditor.classes = {\n    editor: {\n        container: \"Editor\",\n        header: \"Editor-header\",\n        content: \"Editor-content\",\n        footer: \"Editor-footer\",\n        preview: \"Editor-preview\"\n    },\n    state: {\n        isHidden: \"Editor--hidden\",\n        contentIsSplit: \"Editor-content--isSplit\"\n    },\n    button: {\n        switchEditor: \"Editor--switchEditor\",\n        fullscreenToggle: \"Editor--toggleFullscreen\"\n    }\n};","// ================================\n//          PreviewInterface\n// ================================\n\nclass PreviewInterface {\n\n    constructor(editor) {\n        this.editor = editor;\n        this.view = null;\n    }\n\n    create() {\n        var preview = $(\"<iframe id=\\\"\" + this.editor.name + \"-preview\\\" class=\\\"\" + Editor.classes.editor.preview + \"\\\"></iframe>\");\n        preview.appendTo(this.editor.container.find(\".Editor-content\"));\n        return this.view = preview;\n    }\n\n    show(full) {\n        let preview = $(\"#\" + this.editor.name + \"-preview\")\n        preview.removeClass(Editor.classes.state.isHidden);\n\n        if (full) {\n            preview.css(\"width\", \"100%\");\n        }\n\n        // create the stylesheets\n        /*var head = \"\";\n        var iterable = this.editor.stylesheets;\n        for (var i = 0, stylesheet; i < iterable.length; i++) {\n            stylesheet = iterable[i];\n            head += \"<link rel=\\\"stylesheet\\\" href=\\\"\" + stylesheet + \"\\\">\";\n        }\n        this.view.contents().find(\"head\").html(head);\n        return this.view.contents().find(\"html\").addClass(\"no-js \" + $(\"html\").attr(\"class\").replace(\"js \", \"\"));*/\n    }\n\n    hide() {\n        return $(\"#\" + this.editor.name + \"-preview\").addClass(Editor.classes.state.isHidden);\n    }\n\n    valueFromForm() {\n        var promise = Ajax.request(\n            \"GET\",\n            \"content?content=\" + encodeURIComponent(this.editor.textarea.val()),\n            new FormData(),\n            \"html\"\n        ).then((data) => {\n            this.view[0].srcdoc = /*'data:text/html;charset=utf-8,' + encodeURIComponent(*/data;\n            console.log(data);\n        }).catch(Ajax.handleError);\n    }\n\n    // we can't and don't want to do this\n    valueToForm() {}\n}\n\nfunction debounce(func, wait, immediate) {\n    var timeout;\n    return function() {\n        var context = this, args = arguments;\n        var later = function() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n        };\n        var callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n    };\n}\n","// ==========================\n//     SplitViewInterface\n// ==========================\n\nclass SplitViewInterface {\n\n    constructor(editor) {\n        this.editor = editor;\n        this.view = null;\n    }\n\n    create() {\n    }\n\n    show() {\n        this.editor.container.find(\".\" + Editor.classes.editor.content).addClass(Editor.classes.state.contentIsSplit);\n        this.editor.show(\"code\", false);\n        this.editor.show(\"preview\", false);\n        $(\"#\" + this.editor.name + \"-ace-editor, #\" + this.editor.name + \"-preview\").css(\"width\", \"50%\");\n        return this.editor.modes.code.view.on(\"change\", this.synchronize.bind(this));\n    }\n\n    hide() {\n        this.editor.container.find(\".\" + Editor.classes.editor.content).removeClass(Editor.classes.state.contentIsSplit);\n        this.editor.hide(\"code\");\n        return this.editor.hide(\"preview\");\n    }\n\n    valueFromForm() {\n    }\n\n    valueToForm() {\n    }\n\n    synchronize() {\n        if(this.currentTimer) {\n            clearTimeout(this.currentTimer);\n        }\n        this.currentTimer = setTimeout(() => {\n            if (this.editor.currentMode === \"split\") {\n                this.editor.valueToForm(\"code\");\n                this.editor.valueFromForm(\"preview\");\n            }\n        }, 1000);\n    }\n}\n","Oxygen || (Oxygen = {});\nOxygen.initLogin = function() {\n    var loginForm = $(\".Login-form\")\n        .addClass(\"Login--noTransition\")\n        .addClass(\"Login--slideDown\");\n\n    loginForm[0].offsetHeight;\n    loginForm.removeClass(\"Login--noTransition\");\n\n    setTimeout(function() {\n        $(\"body\").removeClass(\"Login--isHidden\")\n    }, 500);\n\n    $(\".Login-scrollDown\").on(\"click\", function() {\n        $(\".Login-message\").addClass(\"Login--slideUp\");\n        loginForm.removeClass(\"Login--slideDown\");\n        $(\".Login-background--blur\").addClass(\"Login--isHidden\");\n    });\n\n    loginForm.on(\"submit\", function() {\n        loginForm.addClass(\"Login--slideUp\");\n    });\n\n    Ajax.errorCallbacks.push(function(error) {\n        loginForm.removeClass(\"Login--slideUp\");\n        return error;\n    });\n\n    Ajax.successCallbacks.push(function(data) {\n        if (data.status == \"failed\") {\n            loginForm.removeClass(\"Login--slideUp\");\n        }\n        return data;\n    });\n};"],"sourceRoot":"/source/"}